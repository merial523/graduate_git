{% extends base_template %}
{% block content %}
<div class="container px-3 py-4">

    <h5 class="fw-bold mb-3 text-center">üìñ ÂèóË¨õÂèØËÉΩ„Å™Á†î‰øÆ‰∏ÄË¶ß</h5>

    <div class="accordion" id="courseAccordion">
        {% for course in courses %}
        <div class="accordion-item mb-3 border-0 rounded-4 shadow-sm overflow-hidden">

            <h2 class="accordion-header">
                <button
                    class="accordion-button collapsed d-flex flex-column align-items-start gap-1 px-3 py-3 bg-white"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#course{{ course.id }}">

                    <span class="fw-semibold text-truncate w-100">
                        {{ course.subject }}
                    </span>

                    <div class="d-flex justify-content-between align-items-center w-100">
                        <small class="text-muted">
                            ÂÖ® {{ course.modules.count }} Á†î‰øÆ
                        </small>
                        <span class="badge bg-primary-subtle text-primary rounded-pill">
                            Èñã„Åè
                        </span>
                    </div>
                </button>
            </h2>

            <div id="course{{ course.id }}" class="accordion-collapse collapse"
                 data-bs-parent="#courseAccordion">
                <div class="accordion-body p-0">

                    <div class="list-group list-group-flush">
                        {% for module in course.modules.all %}
                            {% if module.is_active %}
                            <a href="{% url 'courses:training_detail' module.id %}"
                               class="list-group-item list-group-item-action d-flex flex-column gap-1 px-3 py-3">

                                <div class="d-flex align-items-center gap-2">
                                    <i class="bi bi-play-circle-fill text-primary fs-5"></i>
                                    <span class="fw-medium">
                                        {{ module.title }}
                                    </span>
                                </div>

                                <div class="d-flex justify-content-between align-items-center">
                                    <small class="text-muted">
                                        Êé®ÂÆö {{ module.estimated_time }}ÂàÜ
                                    </small>
                                    <span class="badge bg-light text-dark border">
                                        ‚ñ∂
                                    </span>
                                </div>
                            </a>
                            {% endif %}
                        {% empty %}
                            <div class="px-3 py-4 text-center text-muted small">
                                ÁèæÂú®„ÄÅ„Åì„ÅÆ„Ç≥„Éº„Çπ„Å´ÂÖ¨Èñã‰∏≠„ÅÆÁ†î‰øÆ„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ
                            </div>
                        {% endfor %}
                    </div>

                </div>
            </div>

        </div>
        {% empty %}
        <p class="text-center py-5 text-muted small">
            ÂèóË¨õ„Åß„Åç„Çã„Ç≥„Éº„Çπ„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ
        </p>
        {% endfor %}
    </div>

</div>
{% endblock %}
