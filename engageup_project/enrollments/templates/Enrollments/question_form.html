<!-- templates/enrollments/question_form.html -->
{% extends "base.html" %} <!-- 必要に応じて変更してください -->

{% block content %}
<h2>「{{ exam.title }}」に問題を追加</h2>

<form method="post">
    {% csrf_token %}
    
    <fieldset>
        <legend>問題内容</legend>
        {{ form.as_p }}
    </fieldset>

    <fieldset>
        <legend>選択肢（正解にチェックを入れてください）</legend>
        {{ formset.management_form }}
        <table>
            {% for choice_form in formset %}
                <tr>
                    <td>{{ choice_form.text }}</td>
                    <td>正解：{{ choice_form.is_correct }}</td>
                    {% if formset.can_delete %}
                        <td>削除：{{ choice_form.DELETE }}</td>
                    {% endif %}
                </tr>
            {% endfor %}
        </table>
    </fieldset>

    <button type="submit" class="btn btn-primary">問題を保存する</button>
    <a href="{% url 'enrollments:exam_list' %}">一覧に戻る</a>
</form>
{% endblock %}